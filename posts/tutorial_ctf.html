<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>brower.xyz</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
  </head>
  <body>
    <main id ="main" class="container">
    <pre id="pgp-key"><a class="header-link" href="..">
   _            _      _                                
  (_)          | |    | |                               
   _  __ _  ___| | __ | |__  _ __ _____      _____ _ __ 
  | |/ _` |/ __| |/ / | '_ \| '__/ _ \ \ /\ / / _ \ '__|
  | | (_| | (__|   <  | |_) | | | (_) \ V  V /  __/ |   
  | |\__,_|\___|_|\_\ |_.__/|_|  \___/ \_/\_/ \___|_|   
 _/ |                                                   
|__/
      </pre></a>
      <p style="text-align: center; margin-top: -20px">
        <a href="https://github.com/jackbrower">github</a> - <a href="mailto:jackbrower@duck.com">contact</a> - <a href="../pgp_key.txt">pgp key</a>
      </p>
    </main>
    <main id="blog">
        <h1>Making a Tutorial CTF</h1>
        <h2>An introduction to the cyber attack lifecycle</h2>
        <p>
            As part of an on-campus club, I wrote a presentation as an introduction to cyber attacks and offensive tools.
            Along with the presentation, I set up various remote servers for players to hack into, upload a remote payload, and then persistantly access
            from a C2 server.
            This blog will cover the setup for these servers.
        </p>

        <br />
        <h2>Choosing a host</h2>
        <p>
            A primary concern for me was choosing a host that, among other things: <br />
            &emsp;  &emsp;  1. Could deploy a somewhat performant Windows 10 VM,<br />
            &emsp;  &emsp;  2. Allowed us to pentest our own servers, and <br />
            &emsp;  &emsp;  3. Was cheap <br /> <br />

            Initially we wanted to use a cloud service such as Microsoft Azure to streamline networking and deployment (and also because we had free credits), but 
            we found that many cloud service providers didn't easily deploy Windows 10. Additionally, pentesting our own servers on providers such as Azure or Google
            Cloud was potentially forbidden without prior authorization.
            <br /><br />
            Eventually we decided on using Vultr, and instead of worrying about networking we simply spun up seven different VMs and indepentantly set them up for each
            task. By the time we destroyed the servers, the end cost was ~$7.
        </p>

        <br />
        <h2>Deploying our servers</h2>
        <p>
            As Vultr lacks a Windows 10 Pro preset, we deployed our servers using an <a href="https://write.corbpie.com/installing-windows-10-pro-iso-with-virtio-on-vultr/">
            online hosted ISO from Corbpie</a>, from a blog they did on setting up Windows 10 Pro on Vultr.
            <br /><br />
            I followed this six times, five times for the vulnerable hackable boxes, and once for a C2 server. Additionally, all six servers were enabled with RDP and
            exposed to the internet with plaintext passwords. A seventh payload server was also set up, with a precompiled Quasar client having been set up for download.
            The Quasar client was not set up beyond having the client IP point to the C2 server. The port, signature, nor credentials were changed, which in the short term did not matter, but
            I had to disable listening before the presentation to prevent bot connections.
        </p>
        <center>
            <img src="../images/ctf_blog_quasar_example.png" alt="Screenshot of Quasar client from GitHub" width="50%" style="border: 2px solid #00f10c; padding: 2px;">
        </center>
        <p>
            Viewers were grouped and then directed to attempt to gain access to a specific dummy server, using pentest tools predownloaded in Kali Linux (e.g. 
            nmap, hydra).
        </p>
    </main>

    <script>
      function setHeaderHeight() {
        var mainheight = document.getElementById('main').clientHeight + "px";

        document.getElementById('blog').style.marginTop = mainheight;
      }

      setHeaderHeight();
    </script>
  </body>
</html>
